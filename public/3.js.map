{"version":3,"sources":["webpack:///./resources/js/react/component/AddChild.js"],"names":["AddChild","props","state","name","email","role","fileUpload","isAdded","handleFileUpload","bind","handleInputChange","handleSubmit","e","target","setState","files","value","prevState","preventDefault","formData","FormData","append","axiosPost","baseUrl","then","status","message","data","toastr","success","error","Component"],"mappings":"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","file":"3.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {axiosPost, axiosPut, axiosGet, axiosDelete, baseUrl} from '../axiosCall';\r\nimport {\r\n\tLink,\r\n\tRedirect\r\n  } from \"react-router-dom\";\r\nimport './../../../../node_modules/toastr/build/toastr.css';\r\n\r\nexport default class AddChild extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname:'',\r\n\t\t\temail:'',\r\n\t\t\trole:'child',\r\n\t\t\tfileUpload : null,\r\n\t\t\tisAdded : false\r\n\t\t}\r\n\r\n\t\tthis.handleFileUpload = this.handleFileUpload.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\t\r\n\t}\r\n\r\n\thandleFileUpload(e) {\r\n\t\tconst target = e.target;\r\n\t\tthis.setState({fileUpload:target.files[0]});\r\n\t}\r\n\r\n\thandleInputChange(e) {\r\n\t\tconst {name, value} = e.target;\r\n\t\tthis.setState((prevState, props) => {\r\n\t\t\treturn ({[name] : value});\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet formData = new FormData();\r\n\t\tconst {name, email, role, fileUpload} = this.state;\r\n\t\tformData.append('name', name);\r\n\t\tformData.append('email', email);\r\n\t\tformData.append('role', role);\r\n\t\tformData.append('avatar', fileUpload);\r\n\r\n\t\taxiosPost(`${baseUrl}/users/children`, formData, {\r\n\t\t\t'content-type': 'multipart/form-data'\r\n\t\t})\r\n\t\t.then(({status, message, data = ''}) => {\t\t\t\r\n\t\t\tif(status === 'success'){\r\n\t\t\t\ttoastr.success(message);\r\n\t\t\t\tthis.setState({isAdded:true});\r\n\t\t\t}else{\r\n\t\t\t\ttoastr.error(message);\r\n\t\t\t}\r\n\t\t });\r\n\t\t\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t  }\r\n\r\n\r\n\trender() {\r\n\t\tconst {name, role, email, isAdded} = this.state;\r\n\r\n\t\tif(isAdded)\r\n\t\t\treturn <Redirect to='/dashboard' />\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h2>Add Child</h2>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<img src=\"https://www.w3schools.com/bootstrap4/cinqueterre.jpg\" loading=\"lazy\" className=\"img-thumbnail\" alt=\"Cinque Terre\" width=\"304\" height=\"236\" />\t\t\t\t\t \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"avatar\">Select avatar:</label>\r\n\t\t\t\t\t\t<input type=\"file\" \r\n\t\t\t\t\t\t\t\tclassName=\"form-control\" \r\n\t\t\t\t\t\t\t\tid=\"avatar\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleFileUpload}\r\n\t\t\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t      <label htmlFor=\"userName\">Name:</label>\r\n\t\t\t\t      <input type=\"text\" \r\n\t\t\t      \t\t\t className=\"form-control\" \r\n\t\t\t\t\t\t\t   id=\"userName\"\r\n\t\t\t\t\t\t\t   name=\"name\"\r\n\t\t\t\t\t\t\t   value={name}\r\n\t\t\t\t\t\t\t   onChange={this.handleInputChange}\t\r\n\t\t\t      \t\t\t />\r\n\t\t\t\t    </div>\t\t\t\t  \r\n\t\t\t\t    <div className=\"form-group\">\r\n\t\t\t\t      <label htmlFor=\"email\">Email:</label>\r\n\t\t\t\t      <input type=\"text\" \r\n\t\t\t      \t\t\t className=\"form-control\" \r\n\t\t\t\t\t\t\t   id=\"email\" \r\n\t\t\t\t\t\t\t   value={email}\r\n\t\t\t\t\t\t\t   name='email'\r\n\t\t\t\t\t\t\t   onChange={this.handleInputChange}\t\t\t      \t\t\t \r\n\t\t\t      \t\t\t />\r\n\t\t\t\t    </div>\r\n\t\t\t\t    <div className=\"form-group\">\r\n\t\t\t\t      <label htmlFor=\"role\">Role:</label>\r\n\t\t\t\t      <input type=\"text\" \r\n\t\t\t\t      \t\t className=\"form-control\" \r\n\t\t\t\t      \t\t id=\"role\" \r\n\t\t\t\t\t\t\t   value={role}\r\n\t\t\t\t\t\t\t   readOnly\r\n\t\t\t\t\t\t\t   />\r\n\t\t\t\t    </div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">Add</button>\r\n\t\t\t\t\t\t<Link to=\"/dashboard\" className=\"btn btn-primary ml-3\">Back to Dashboard</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</form> \t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t);\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":""}